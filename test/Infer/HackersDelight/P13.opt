; REQUIRES: solver, solver-model, synthesis

; RUN: %souper-check %solver -infer-rhs -souper-infer-inst -souper-synthesis-comps=lshr,ashr,const,const,or,sub %s > %t1
; RUN: FileCheck %s < %t1

; CHECK:      %5:i32 = sub %0, 2147483649:i32
; CHECK-NEXT: %6:i32 = lshr %5, 31:i32
; CHECK-NEXT: %7:i32 = or %6, %1
; CHECK-NEXT: result %7

; Sign function
%0:i32 = var
%1:i32 = ashr %0, 31
%2:i32 = sub 0, %0
%3:i32 = lshr %2, 31
%4:i32 = or %1, %3
infer %4
