; REQUIRES: solver, solver-model

; RUN: %souper-check %solver -infer-rhs -souper-infer-iN=false -souper-enumerative-synthesis -souper-double-check %s > %t1
; RUN: %FileCheck %s < %t1

; CHECK: %6:i1 = freeze %2
; CHECK: %7:i1 = or %4, %6

%0:i1 = var ; 0
%1:i1 = var ; 1
%2:i1 = and %0, %1
%3:i8 = var ; 2
%4:i1 = eq 0:i8, %3
%5:i1 = select %4, 1:i1, %2
infer %5
