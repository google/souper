; RUN: %generalize -basic -souper-debug-level=2 %s > /dev/null 2>%t
; RUN: %FileCheck %s < %t

%v0:i8 = var ; v0
%1:i32 = sext %v0
%2:i1 = eq 42:i32, %1
infer %2
%3:i1 = eq 42:i8, %v0
result %3

; CHECK: C1 <=u ((1 << (zext(width(v0)) - 1)) - 1)
; CHECK:   |=
; CHECK: C1 == sext(v0)
; CHECK:   =>
; CHECK: v0 == trunc(C1)