; REQUIRES: solver, synthesis
; RUN: %generalize -fixit %s | %souper-check > %t
; RUN: %FileCheck %s < %t

%x:i8 = var
%y:i8 = var
%z = add %x, %y
%t = add %z, 42
%u = sub %t, %y
infer %u
%v = add %x, 42
result %v
;CHECK: LGTM

%x:i8 = var
%y:i8 = var
%t = add %x, 42
%u = sub %t, %y
infer %u
%v = add %x, 42
result %v
;CHECK: LGTM

%x:i8 = var
%y:i8 = var
%t = and %x, 137
%u = xor %t, %y
infer %u
%v = or %x, %y
result %v
;CHECK: LGTM
;CHECK-NEXT: LGTM

%x:i8 = var
%y:i8 = var
%t = or %x, 42
%u = and %t, %y
infer %u
%v = and %x, %y
result %v
;CHECK: LGTM
;CHECK-NEXT: LGTM
